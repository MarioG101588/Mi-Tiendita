<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POS Sistema</title>
    <link rel="stylesheet" href="Css/estilo.css">
    <!-- CORREGIDO: Comentar o remover favicon faltante -->
    <!-- <link rel="icon" href="imagenes/logo.png" type="image/png"> -->
</head>
<body>
    <!-- Vista de Login -->
    <div class="container visible" id="container" role="main" aria-label="Vista de login">
        <br><br><br><br><br><br>
        
        <form id="loginForm" class="hidden">
            <label for="emailinicio">Correo:</label>
            <input type="email" id="emailinicio" name="email" required>
            
            <label for="passwordinicio">Contraseña:</label>
            <input type="password" id="passwordinicio" name="password" required>
            
            <label>
                <input type="checkbox" id="recordarCheckbox"> Recordar credenciales
            </label>
            
            <button type="button" id="btnIniciarSesion">Iniciar Sesión</button>
            <button type="button" id="btnCancelar">Cancelar</button>
        </form>
        
        <div id="botonesLogin">
            <button id="loginButton" class="btn">Iniciar Sesión</button>
            <button id="logoutButton" class="btn hidden">Cerrar Sesión</button>
        </div>
    </div>

    <!-- Vista de Ventas/POS -->
    <div class="container1 hidden" id="container1" role="main" aria-label="Vista de ventas" data-view="ventas">
        <div class="buscador-container">
            <input type="text" id="campoBusqueda1" class="form-control" placeholder="Buscar productos...">
            <button id="btnVozBuscar" class="btn-voz-buscar" aria-label="Búsqueda por voz">🎤</button>
        </div>
        
        <div class="pantalla-horizontal">
            <div class="tabla-inventario">
                <div id="inventarioContainer">Cargando inventario...</div>
            </div>
            
            <div class="tabla-carrito">
                <div id="carritoContainer">El carrito está vacío</div>
                <div id="totalContainer">Total: $0</div>
                <button id="btnFinalizarVenta" class="btn btn-success">Finalizar Venta</button>
            </div>
        </div>
        
        <div class="navigation-buttons">
            <button class="nav-button btn" data-action="show-view" data-target="container2">Cuentas</button>
            <button class="nav-button btn" data-action="show-view" data-target="container4">Resumen Turno</button>
            <button class="nav-button btn" data-action="show-view" data-target="container5">Historial</button>
            <button class="nav-button btn" data-action="show-view" data-target="container6">Cuentas Pendientes</button>
        </div>
    </div>

    <!-- Vista de Cuentas -->
    <div class="container2 hidden" id="container2" role="main" aria-label="Vista de cuentas" data-view="cuentas">
        <h1>Gestión de Cuentas</h1>
        <div id="cuentasActivasTurno">Cargando cuentas activas...</div>
        
        <div class="navigation-buttons">
            <button class="nav-button btn" data-action="show-view" data-target="container1">Ventas</button>
            <button class="nav-button btn" data-action="show-view" data-target="container3">Detalle Cuenta</button>
        </div>
    </div>

    <!-- Vista de Detalle de Cuenta -->
    <div class="container3 hidden" id="container3" role="main" aria-label="Vista detalle de cuenta" data-view="detalle-cuenta">
        <h1>Detalle de Cuenta</h1>
        <div id="detalleCuentaContainer">Seleccione una cuenta</div>
        
        <div class="navigation-buttons">
            <button class="nav-button btn" data-action="show-view" data-target="container2">Volver a Cuentas</button>
            <button id="btnPagarCuenta" class="btn btn-success">Pagar Cuenta</button>
        </div>
    </div>

    <!-- Vista de Resumen de Turno -->
    <div class="container4 hidden" id="container4" role="main" aria-label="Vista resumen de turno" data-view="resumen-turno">
        <h1>Resumen del Turno</h1>
        <div id="resumenTurnoDatos">Cargando resumen del turno...</div>
        
        <div class="navigation-buttons">
            <button class="nav-button btn" data-action="show-view" data-target="container1">Volver a Ventas</button>
        </div>
    </div>

    <!-- Vista de Historial de Turnos -->
    <div class="container5 hidden" id="container5" role="main" aria-label="Vista historial de turnos" data-view="historial-turnos">
        <h1>Historial de Turnos</h1>
        <div id="historialTurnosContainer">Cargando historial...</div>
        
        <div class="navigation-buttons">
            <button class="nav-button btn" data-action="show-view" data-target="container1">Volver a Ventas</button>
        </div>
    </div>

    <!-- Vista de Cuentas Pendientes -->
    <div class="container6 hidden" id="container6" role="main" aria-label="Vista cuentas pendientes" data-view="cuentas-pendientes">
        <h1>Cuentas Pendientes</h1>
        <div id="cuentasPendientesContainer">Cargando cuentas pendientes...</div>
        
        <div class="navigation-buttons">
            <button class="nav-button btn" data-action="show-view" data-target="container1">Volver a Ventas</button>
            <button class="nav-button btn" data-action="show-view" data-target="container2">Gestión de Cuentas</button>
        </div>
    </div>

    <!-- Punto único de entrada JavaScript -->
    <script type="module" src="JavaScript/Engranaje.js"></script>
</body>
</html>